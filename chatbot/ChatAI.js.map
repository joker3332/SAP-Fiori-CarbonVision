{"version":3,"file":"ChatAI.js","names":["ChatAI","constructor","options","defaults","api_key","source","model","conversations","selected_conversation","container","chat_speed","title","max_tokens","version","show_tokens","available_models","this","Object","assign","document","querySelector","innerHTML","_sidebarTemplate","_welcomePageTemplate","settings","getSettings","_eventHandlers","focus","getMessage","scrollTop","scrollHeight","messages","role","content","selectedConversation","map","message","fetch","cache","method","headers","Authorization","APIKey","body","JSON","stringify","maxTokens","then","response","json","data","error","showErrorMessage","remove","msg","choices","msgElement","textInterval","setInterval","replace","substring","clearInterval","usage","total_tokens","disabled","classList","push","date","Date","prompt_tokens","completion_tokens","getJsonFile","fileHandle","window","showOpenFilePicker","file","getFile","fileContents","text","jsonObject","parse","name","code","DOMException","ABORT_ERR","console","saveJsonToFile","suggestedName","types","description","accept","handle","showSaveFilePicker","writable","createWritable","jsonString","write","close","updateTitle","showSuccessMessage","querySelectorAll","forEach","createElement","add","appendChild","getBoundingClientRect","style","transition","opacity","setTimeout","success","formatElapsedTime","dateString","now","elapsed","seconds","Math","floor","minutes","hours","days","loadConversation","obj","clearWelcomeScreen","clearMessages","insertAdjacentHTML","_conversationTitleClickHandler","createNewConversation","length","index","c","_conversationClickHandlers","unsaved","modal","element","modalTemplate","lastElementChild","open","display","onOpen","onClose","returnCloseValue","state","button","e","onclick","event","preventDefault","openSettingsModal","self","m","join","contains","value","saveSettings","localStorage","removeItem","location","reload","getItem","setItem","conversation","selectedConversationIndex","dataset","id","contentEditable","update","innerText","blur","onblur","onkeydown","keyCode","confirm","splice","_openDatabaseEventHandlers","startsWith","undefined","onsubmit","addEventListener","ctrlKey","key","returnValue","getAttribute","parseInt"],"sources":["ChatAI-dbg.js"],"mappings":"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"}